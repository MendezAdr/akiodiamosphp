@page "/login"
@model CrudCafeteria.Components.Pages.LoginModel
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOGIN</title>
    <link rel="stylesheet" href="~/css/Login.css">
</head>
<body>
    <div class="banner">
        <div class="container">
            <div class="div-izquierdo">
                <h1>INICIO DE SESION</h1>
         
                @if (!string.IsNullOrEmpty(Model.ErrorMessage))
                    {
                        <div style="background-color: #f8d7da; color: #721c24; padding: 10px; border-radius: 5px; margin-bottom: 15px;">
                            @Model.ErrorMessage
                        </div>
                    }
                @if (!string.IsNullOrEmpty(Model.SuccessMessage))
                    {
                        <div style="background-color: #d4edda; color: #155724; padding: 10px; border-radius: 5px; margin-bottom: 15px;">
                            @Model.SuccessMessage
                        </div>
                    }
                
                @* --- FORMULARIO DE LOGIN --- *@
                <form method="post" asp-page-handler="Login"> @* <-- Handler en el FORMULARIO *@
                    @*@Html.AntiForgeryToken()*@
                    
                    <label for="username">Usuario:</label>
                    <input type="text" id="usuario" name="Username" required> 
                    <br>
                    <label for="password">Contraseña:</label>
                    <input type="password" id="password" name="Password" required> 
                    <br>
                    <button type="submit">Iniciar Sesión</button> @* <-- Sin handler en el BOTÓN *@
                </form>
                
                @* --- FORMULARIO DE CREAR USUARIO DE PRUEBA --- *@
                <form method="post" asp-page-handler="TestUser" style="margin-top: 15px;"> @* <-- Handler en el FORMULARIO *@
                    @*@Html.AntiForgeryToken()*@
                    <button type="submit" style="background-color: #6c757d; color: white; border: none;">
                        Crear Usuario de Prueba (admin/123456)
                    </button>
                </form>

            </div>
            <div class="div-derecho">
                 <img src="~/pictures/logoapp.jpg" alt="Logo Cafeteria">
            </div>
        </div>
    </div>
</body>
</html>